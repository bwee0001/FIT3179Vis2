{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
        "url": "https://raw.githubusercontent.com/bwee0001/FIT3179Vis2/main/data/Mineral%20Ores%20Australia.csv"
    },

    "title": {
        "text":"Opal Ore Mines",
        "fontSize": 20
    },
    "width": 600,
    "height": 400,
    "projection": {"type": "conicEqualArea","rotate":[-10,30,40]},
    "layer": [
        {
        "data": {
            "url": "https://raw.githubusercontent.com/bwee0001/FIT3179Vis2/main/js/australiamap_ne_50m.topojson",
            "format": {"type": "topojson", "feature": "ne_50m_admin_0_countries"}
        },
        "mark": {"type": "geoshape", "fill": "lightgrey", "stroke": "white"}
        },
        {
            "data": {
                "url": "https://raw.githubusercontent.com/bwee0001/FIT3179Vis2/main/js/mapWithStatelines.topojson",
                "format": {"type": "topojson", "feature": "ne_50m_admin_1_states_provinces"}
            },
            "mark": {"type": "geoshape", "fill": null, "stroke": "white"}
        },
        {
            "data": {"values": [{}]},
            "mark": {
                "type": "text",
                "align": "left",
                "baseline": "bottom",
                "text": ["1 Dot = 1 Mine"],
                "fontSize": 16,
                "dx": -200,
                "dy": 150
            }
        },
        {
            "transform": [
            {"filter": "datum.country == 'Australia'"},
            {"filter": "datum.commod1 == 'Opal'"}
        ],
        "params":[
            {
                "name": "state_highlight",
                "select": {"type": "point", "fields": ["state"]},
                "bind": "legend"
            }
        ],
        "mark": {"type": "point", "color": "black", "fill": "black", "tooltip": {"content": "data"}, "shape":"M 1.3212 5.544 C 1.3212 5.544 1.9212 4.3452 1.9212 4.3452 C 1.9212 4.3452 3.1212 3.4452 3.1212 3.4452 C 3.1212 3.4452 4.32 3.7452 4.32 3.7452 C 4.32 3.7452 4.92 3.1464 4.92 3.1464 C 4.92 3.1464 5.52 2.8464 5.52 2.8464 C 5.52 2.8464 5.52 5.544 5.52 5.544 C 5.52 5.544 1.3212 5.544 1.3212 5.544 Z M 0.1224 0.1488 C 1.6692 0.6576 3.018 1.6056 4.0212 2.8464 M 0.1224 0.1488 C 1.8192 0.354 3.2592 1.3932 4.02 2.844 M 0.1224 4.3452 C 0.1224 4.3452 3.1212 0.1488 3.1212 0.1488"},
        "encoding": {
            "longitude": {"field": "longitude", "type": "quantitative"},
            "latitude": {"field": "latitude", "type": "quantitative"},
            "color": {
                "scale":{"scheme":"black"}
            },
            "tooltip": [
                {"field": "site_name", "type": "nominal", "title":"Mine Name"},
                {"field": "latitude", "type": "nominal", "title":"Latitude"},
                {"field": "longitude", "type": "nominal", "title":"Longitude"},
                {"field": "names", "type": "nominal", "title":"Main Opal Type Mined"}
            ] 
        }
        }
    ],
    "config": {
        "background": null,
        "view": {
            "stroke": "transparent"
         }
    }
    
}